"use strict";define(["Zepto","service","utils","wxClient"],function(a,b,c,d){var e=a("#input-phone"),f=a("#input-pwd");d.isInWeixin||a("#login-wx").remove(),a("#login-wx").tap(function(){location.href=d.getUserinfoUrl("http://m.fundin.cn/loginByWx")}),a("#login-link").tap(function(){if(!c.checkPhone(e.val()))return void c.showToastMsg("请输入正确的手机号","warn");if(f.val().length<6)return void c.showToastMsg("密码不能小于6位","warn");var d={phone:e.val(),passwd:f.val(),rememberMe:a("#remeberMe").is(":checked")?"on":"off"};c.showLoadingToast("登录中..."),b.login(d,function(){c.hideLoadingToast(),c.showToastMsg("登录成功",null,null,function(){var a="/me",b=window.location.search.substring(1),c=b.split("&");for(var d in c){var e=c[d];if(e.indexOf("returnUrl=")>-1){a=e.substring(10);break}}window.location.href=a})},function(a,b){c.hideLoadingToast(),c.showToastMsg(a,"warn")})})});